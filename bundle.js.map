{"version":3,"sources":["webpack:///webpack/bootstrap c269c7dd57395ad57097","webpack:///./lib/app.js","webpack:///./lib/game.js","webpack:///./lib/player.js","webpack:///./lib/util.js","webpack:///./lib/bullet.js","webpack:///./lib/moving_object.js","webpack:///./lib/background.js","webpack:///./lib/imageable.js"],"names":["document","addEventListener","player","game","run","Game","canvas","querySelector","bgCanvas","canvasContext","getContext","bgContext","bg","showTitleScreen","showGameOverScreen","bullets","enemies","render","clearCanvas","playerBullets","forEach","bullet","requestAnimationFrame","bind","clearRect","Player","props","posX","Math","floor","posY","actions","moveLeft","moveRight","moveUp","moveDown","fireBullet","bulletCooldown","topSpeed","HP","playerController","shipW","shipH","bulletData","speedX","random","speedY","newBullet","push","abs","filter","bul","cleanup","ctx","deleteBullets","calculateInertia","move","drawImage","getSprite","frame","normalSprite","images","playerShip","leftSprite","playerShipL","rightSprite","playerShipR","e","keyCode","console","log","canvasHeight","canvasWidth","Bullet","destroySelf","PlayerBulletBasic","sprite","beams","defaultProps","MovingObject","newProps","Object","assign","Background","backgroundImg","height","instance","ImageableSingleton","Image","src","laserRed","laserGreen"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c269c7dd57395ad57097","import Game from './game.js'\nimport Player from './player'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const player = new Player()\n  const game = new Game(player)\n  game.run()\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app.js","import Background from './background'\n\nclass Game {\n  constructor (player) {\n    this.canvas = document.querySelector('#game-canvas')\n    this.bgCanvas = document.querySelector('#background-canvas')\n    this.canvasContext = this.canvas.getContext('2d')\n    this.bgContext = this.bgCanvas.getContext('2d')\n    this.bg = new Background()\n\n    this.player = player\n    this.showTitleScreen = true\n    this.showGameOverScreen = false\n    this.bullets = []\n    this.enemies = []\n  }\n\n  run () {\n    this.render()\n  }\n\n  render () {\n    this.clearCanvas()\n    this.bg.render(this.bgContext)\n    this.player.render(this.canvasContext)\n    this.bullets = this.player.playerBullets\n    this.bullets.forEach(bullet => {\n      bullet.render(this.canvasContext)\n    })\n    requestAnimationFrame(this.render.bind(this))\n  }\n\n  clearCanvas () {\n    this.canvasContext.clearRect(0, 0, 400, 700)\n  }\n}\n\nexport default Game\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","import {canvasHeight, canvasWidth} from './util'\nimport { Bullet, PlayerBulletBasic } from './bullet'\nimport MovingObject from './moving_object'\n\nclass Player extends MovingObject {\n  constructor () {\n    let props = {\n      posX: Math.floor(canvasWidth / 2),\n      posY: Math.floor(canvasHeight / 1.2)\n    }\n    super(props)\n    this.actions = {\n      moveLeft: false,\n      moveRight: false,\n      moveUp: false,\n      moveDown: false,\n      fireBullet: false\n    }\n    this.bulletCooldown = 0\n    this.topSpeed = 5\n    this.playerBullets = []\n    this.HP = 5\n    this.playerController()\n    this.shipW = 30\n    this.shipH = 46\n  }\n\n  fireBullet () {\n    let bulletData = {\n      speedX: [-1, 0, 1][Math.floor(Math.random() * 3)],\n      speedY: -10,\n      posX: this.posX + Math.floor(this.shipW / 2) - 10,\n      posY: this.posY - 20\n    }\n    let newBullet = new PlayerBulletBasic(bulletData)\n    this.playerBullets.push(newBullet)\n    this.bulletCooldown = 6\n  }\n\n  calculateInertia () {\n    if (this.actions.moveLeft) {\n      if (Math.abs(this.speedX) < this.topSpeed) {\n        this.speedX--\n      }\n    } else if (this.speedX < 0) {\n      this.speedX++\n    }\n    if (this.actions.moveRight) {\n      if (Math.abs(this.speedX) < this.topSpeed) {\n        this.speedX++\n      }\n    } else if (this.speedX > 0) {\n      this.speedX--\n    }\n    if (this.actions.moveUp) {\n      if (Math.abs(this.speedY) < this.topSpeed) {\n        this.speedY--\n      }\n    } else if (this.speedY < 0) {\n      this.speedY++\n    }\n    if (this.actions.moveDown) {\n      if (Math.abs(this.speedY) < this.topSpeed) {\n        this.speedY++\n      }\n    } else if (this.speedY > 0) {\n      this.speedY--\n    }\n  }\n\n  move () {\n    if (this.actions.fireBullet) {\n      if (this.bulletCooldown === 0) {\n        this.fireBullet()\n      } else {\n        this.bulletCooldown--\n      }\n    }\n    if (this.posX + this.speedX >= 0 && this.posX + this.speedX <= canvasWidth - this.shipW) {\n      this.posX += this.speedX\n    }\n    if (this.posY + this.speedY >= 0 && this.posY + this.speedY <= canvasHeight - this.shipH) {\n      this.posY += this.speedY\n    }\n  }\n\n  deleteBullets () {\n    this.playerBullets = this.playerBullets.filter(bul => !bul.cleanup)\n  }\n\n  render (ctx) {\n    this.deleteBullets()\n    this.calculateInertia()\n    this.move()\n    // ctx.fillStyle = 'grey'\n    // ctx.fillRect(this.posX, this.posY, 20, 20)\n\n    // player ship sprite: 420 x 85, 4 parts, left dmg normal right\n    ctx.drawImage(...this.getSprite())\n  }\n\n  getSprite () {\n    const frame = [0, 1][Math.floor(Math.random() * 2)]\n\n    let normalSprite = [\n      [this.images.playerShip, 0, 0, 32, 44, this.posX, this.posY, this.shipW, this.shipH],\n      [this.images.playerShip, 32, 0, 32, 44, this.posX, this.posY, this.shipW, this.shipH]\n    ]\n    let leftSprite = [\n      [this.images.playerShipL, 0, 0, 29, 44, this.posX, this.posY, this.shipW, this.shipH],\n      [this.images.playerShipL, 29, 0, 29, 44, this.posX, this.posY, this.shipW, this.shipH]\n    ]\n    let rightSprite = [\n      [this.images.playerShipR, 0, 0, 29, 44, this.posX, this.posY, this.shipW, this.shipH],\n      [this.images.playerShipR, 29, 0, 29, 44, this.posX, this.posY, this.shipW, this.shipH]\n    ]\n\n    if (this.speedX === 0) {\n      return normalSprite[frame]\n    } else if (this.speedX < 0) {\n      return leftSprite[frame]\n    } else if (this.speedX > 0) {\n      return rightSprite[frame]\n    }\n  }\n\n  // KEYCODES: 37: left, 38: up, 39: right, 40: down, 32: space\n  playerController () {\n    document.addEventListener('keydown', (e) => {\n      switch (e.keyCode) {\n        case 37:\n          this.actions.moveLeft = true\n          break\n        case 38:\n          this.actions.moveUp = true\n          break\n        case 39:\n          this.actions.moveRight = true\n          break\n        case 40:\n          this.actions.moveDown = true\n          break\n        case 32:\n          this.actions.fireBullet = true\n          break\n        default:\n          console.log(e.keyCode)\n          break\n      }\n    })\n    document.addEventListener('keyup', (e) => {\n      switch (e.keyCode) {\n        case 37:\n          this.actions.moveLeft = false\n          break\n        case 38:\n          this.actions.moveUp = false\n          break\n        case 39:\n          this.actions.moveRight = false\n          break\n        case 40:\n          this.actions.moveDown = false\n          break\n        case 32:\n          this.actions.fireBullet = false\n          this.bulletCooldown = 0\n          break\n        default: break\n      }\n    })\n  }\n}\n\nexport default Player\n\n\n\n// WEBPACK FOOTER //\n// ./lib/player.js","export const canvasHeight = 700\nexport const canvasWidth = 400\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","import {canvasHeight, canvasWidth} from './util'\nimport MovingObject from './moving_object'\n\nexport class Bullet extends MovingObject {\n  move () {\n    this.posX += this.speedX\n    this.posY += this.speedY\n    if (this.posX < 0 || this.posX > canvasWidth || this.posY < 0 || this.posY > canvasHeight) {\n      this.destroySelf()\n    }\n  }\n\n  destroySelf () {\n    // mark this bullet for cleanup so that the game's cleanup function can delete it!\n    this.cleanup = true\n  }\n}\n\nexport class PlayerBulletBasic extends Bullet {\n  constructor (props) {\n    super(props)\n    this.sprite = this.images.beams\n  }\n\n  move () {\n    // give bullets a slight spread\n    if (this.posY % 3 === 0 && this.speedX !== 0) {\n      this.posX += this.speedX\n    }\n    this.posY += this.speedY\n    if (this.posX < 0 || this.posX > canvasWidth || this.posY < 0 || this.posY > canvasHeight) {\n      this.destroySelf()\n    }\n  }\n\n  render (ctx) {\n    this.move()\n    ctx.drawImage(this.sprite, 140, 318, 45, 77, this.posX, this.posY, 20, 40)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bullet.js","// This is the 'master' class that every single moving object inherits from\n\nimport ImageableSingleton from './imageable'\n// import {canvasHeight, canvasWidth} from './util'\n\nconst defaultProps = {\n  speedX: 0,\n  speedY: 0,\n  posX: 0,\n  posY: 0\n}\n\nclass MovingObject {\n  constructor (props = {}) {\n    let newProps = Object.assign({}, defaultProps, props)\n    this.speedX = newProps.speedX\n    this.speedY = newProps.speedY\n    this.posX = newProps.posX\n    this.posY = newProps.posY\n    this.cleanup = false\n    this.images = new ImageableSingleton()\n  }\n\n  move () {\n    this.posX += this.speedX\n    this.posY += this.speedY\n  }\n\n  destroySelf () {\n    // mark this object for cleanup so that the game's cleanup function can delete it!\n    this.cleanup = true\n  }\n}\n\nexport default MovingObject\n\n\n\n// WEBPACK FOOTER //\n// ./lib/moving_object.js","import MovingObject from './moving_object'\nimport ImageableSingleton from './imageable'\n// import {canvasHeight, canvasWidth} from './util'\n\nclass Background extends MovingObject {\n  constructor () {\n    super({speedY: 1})\n    let images = new ImageableSingleton()\n    this.backgroundImg = images.backgroundImg\n  }\n\n  render (ctx) {\n    ctx.drawImage(this.backgroundImg, this.posX, this.posY)\n    ctx.drawImage(this.backgroundImg, this.posX, this.posY - this.backgroundImg.height)\n    this.posY += this.speedY\n    if (this.posY >= this.backgroundImg.height) {\n      this.posY = 0\n    }\n  }\n}\n\nexport default Background\n\n\n\n// WEBPACK FOOTER //\n// ./lib/background.js","/* global Image  */\n\nlet instance = null\n\nclass ImageableSingleton {\n  constructor () {\n    if (!instance) {\n      instance = this\n\n      // scrolling background\n      this.backgroundImg = new Image()\n      this.backgroundImg.src = './assets/background1.png'\n\n      // bullets and effects\n      this.laserRed = new Image()\n      this.laserRed.src = './assets/laserRed.png'\n      this.laserGreen = new Image()\n      this.laserGreen.src = './assets/laserGreen.png'\n      this.beams = new Image()\n      this.beams.src = './assets/beams.png'\n\n      // enemy ships\n\n\n\n      // player ship sprite: 420 x 85, 4 parts, left dmg normal right\n      this.playerShip = new Image()\n      this.playerShip.src = './assets/playership.png'\n      this.playerShipR = new Image()\n      this.playerShipR.src = './assets/playership-right.png'\n      this.playerShipL = new Image()\n      this.playerShipL.src = './assets/playership-left.png'\n    }\n\n    return instance\n  }\n}\n\nexport default ImageableSingleton\n\n\n\n// WEBPACK FOOTER //\n// ./lib/imageable.js"],"sourceRoot":""}